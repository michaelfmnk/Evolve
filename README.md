
### I. Back-end

#### Настройка рабочей среды
 
 #####Требования:
  - JDK 8 
  - Maven (система сборки приложений)
  - Docker (для Linux также docker-compose)
  - PostgreSQL 
  
  примечание: для Windows необходимо в docker поставить галочку `Expose deamon...` в главном меню настроек.
 
 ####Запуск тестов
 Все тесты на back-end находятся в `api/src/test`. Их можно запустить из Idea.
 Для каждого класса с тестами существует .sql скрипт с тестовыми данными. 
 Скрипт имеет точно такое же название, как и класс (отличается только расширение).
 К примеру, клас: `UsersControllerTest.java`, а скрипт: `UsersControllerTest.sql`.
 При запуске тестов данные из скриптов накатываются в базу, что запускается в контейнере.
 **Она никак не связана с той, что запущена локально**.
 
 ####Запуск сервера локально
 Перед запуском приложения необходимо создать базу данных **api_db** с помощью PGAdmin.
 Далее в IntelliJ IDEA запустить ApiApplication. 
 
 ####Сборка docker контейнера
 Это может понадобится, если есть необходимость протестировать все приложение целиком, UI и бэк.
 В таком случае, необходимо выполнить команду
 
 `mvn package -Pdocker -Dmaven.test.skip=true`
 
 
 ----
 
 
 ### II. Front-end
 
 
  
 ____
 
 
 ### III. Полное поднятие приложения
 В папке infrastructure находится файл `docker-compose-dev.yml`.
 Необходимо выполнить след. команды:
 - `docker-compose -f docker-compose-dev.yml build` - выполнять нужно только один раз
 - `docker-compose -f docker-compose-dev.yml pull` - забирает все самые последние контейнеры с gitlab
 - `docker-compose -f docker-compose-dev.yml up` - разворачивает все части приложения локально. 
 Приложение находится на `http://localhost`.
 
 Если необходимо запустить контейнер с локальными изменениями, необходимо перед `up` 
 выполнить `mvn package -Pdocker` в нужном модуле.   
 
 
  
  
  
